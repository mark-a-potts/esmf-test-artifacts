 
Installing ESMF:
 
mkdir -p /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/include
cp -f /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/include/ESMC.h /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/include
cp -f /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/include/ESMC_*.h /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/include
cp -f /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/build_config/Darwin.gfortran.default/ESMC_Conf.h /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/include
mkdir -p /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/mod/modg/Darwin.gfortran.64.mpich3.default
cp -f /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/mod/modg/Darwin.gfortran.64.mpich3.default/*.mod /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/mod/modg/Darwin.gfortran.64.mpich3.default
mkdir -p /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default
cp -f /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf*.* /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default
/Library/Developer/CommandLineTools/usr/bin/make ESMF_PRELOADDIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default build_preload_script
chmod 755 /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/preload.sh
ranlib /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf*.a
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(ESMCI_Fraction_F.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(ESMF.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(ESMF_LocalArray.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(ESMF_LogPublic.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(ESMF_State.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(NUOPC.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(phg_comm.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/ranlib: file: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default/libesmf.a(topology.o) has no symbols
/Library/Developer/CommandLineTools/usr/bin/make install_apps
mkdir -p /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/bin/bing/Darwin.gfortran.64.mpich3.default
/Library/Developer/CommandLineTools/usr/bin/make build_apps ESMF_APPSDIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/bin/bing/Darwin.gfortran.64.mpich3.default ESMF_LDIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default ESMF_LIBDIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default ESMF_MODDIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/mod/modg/Darwin.gfortran.64.mpich3.default
cd /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps; /Library/Developer/CommandLineTools/usr/bin/make ACTION=tree_build_apps tree
tree_build_apps in: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps/ESMF_PrintInfo
/Library/Developer/CommandLineTools/usr/bin/make chkdir_locobj
Making directory /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfo for apps output
mpif90 -c -fallow-argument-mismatch -fallow-invalid-boz -g -Wall -Wextra -Wconversion -Wno-unused -Wno-unused-dummy-argument -fbacktrace -fimplicit-none -fcheck=all,no-pointer   -m64 -mcmodel=small -ffree-line-length-none -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps/ESMF_PrintInfo -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/build_config/Darwin.gfortran.default -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/Infrastructure -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/Superstructure -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/mod/modg/Darwin.gfortran.64.mpich3.default -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/include -I/usr/local/Cellar/netcdf/4.7.4_1/include  -DESMF_NO_INTEGER_1_BYTE -DESMF_NO_INTEGER_2_BYTE -DESMFVERSIONGIT='"ESMF_8_2_0_beta_snapshot_05"' -DESMF_MOAB=1 -DESMF_LAPACK=1 -DESMF_LAPACK_INTERNAL=1 -DESMF_NO_ACC_SOFTWARE_STACK=1 -DESMF_NETCDF=1 -DESMF_YAMLCPP=1 -DESMF_YAML=1 -DESMF_PIO=1 -DESMF_MPIIO -DESMF_NO_PTHREADS -DESMF_NO_OPENMP -DESMF_NO_OPENACC -DESMF_TESTEXHAUSTIVE -DESMF_BOPT_g -DESMF_TESTCOMPTUNNEL -DESMF_TESTWITHTHREADS -DSx86_64_small=1 -DESMF_OS_Darwin=1 -DESMF_COMM=mpich3 -DESMF_DIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop ESMF_PrintInfo.F90 -o /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfo/ESMF_PrintInfo.o
/Library/Developer/CommandLineTools/usr/bin/make chkdir_apps
mpif90     -m64 -mcmodel=small -L/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default -L/usr/local/Cellar/netcdf/4.7.4_1/lib -L./  -o /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/bin/bing/Darwin.gfortran.64.mpich3.default/ESMF_PrintInfo /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfo/ESMF_PrintInfo.o -lesmf  -lstdc++ -lc++ -lnetcdf -lnetcdff
tree_build_apps in: /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps/ESMF_PrintInfoC
/Library/Developer/CommandLineTools/usr/bin/make chkdir_locobj
Making directory /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfoC for apps output
mpicxx -c -std=c++11 -g  -DESMF_LOWERCASE_SINGLEUNDERSCORE -m64 -mcmodel=small -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps/ESMF_PrintInfoC -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/apps/ESMF_PrintInfoC/../include -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/build_config/Darwin.gfortran.default -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/Infrastructure -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/Superstructure -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/Infrastructure/stubs/pthread  -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/include  -I/usr/local/Cellar/netcdf/4.7.4_1/include -I/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/src/prologue/yaml-cpp/include -DESMF_NO_INTEGER_1_BYTE -DESMF_NO_INTEGER_2_BYTE -DESMFVERSIONGIT='"ESMF_8_2_0_beta_snapshot_05"' -DESMF_MOAB=1 -DESMF_LAPACK=1 -DESMF_LAPACK_INTERNAL=1 -DESMF_NO_ACC_SOFTWARE_STACK=1 -DESMF_NETCDF=1 -DESMF_YAMLCPP=1 -DESMF_YAML=1 -DESMF_PIO=1 -DESMF_MPIIO -DESMF_NO_PTHREADS -DESMF_NO_OPENMP -DESMF_NO_OPENACC -DESMF_TESTEXHAUSTIVE -DESMF_BOPT_g -DESMF_TESTCOMPTUNNEL -DESMF_TESTWITHTHREADS -DSx86_64_small=1 -DESMF_OS_Darwin=1 -DESMF_COMM=mpich3 -DESMF_DIR=/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop -D__SDIR__='"src/apps/ESMF_PrintInfoC"' -DESMF_CXXSTD=11 ESMF_PrintInfoC.c -o /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfoC/ESMF_PrintInfoC.o
clang: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/scripts/libs.mpich3f90: line 4: mpichversion: command not found
/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/scripts/libs.mpich3f90: line 5: [: =: unary operator expected
/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/scripts/libs.mpich3f90: line 5: [: =: unary operator expected
/Library/Developer/CommandLineTools/usr/bin/make chkdir_apps
mpicxx    -m64 -mcmodel=small -L/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/lib/libg/Darwin.gfortran.64.mpich3.default -L/usr/local/Cellar/netcdf/4.7.4_1/lib -L/usr/local/Cellar/gcc/10.1.0/lib/gcc/10/gcc/x86_64-apple-darwin18/10.1.0/../../../  -o /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/bin/bing/Darwin.gfortran.64.mpich3.default/ESMF_PrintInfoC /Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/obj/objg/Darwin.gfortran.64.mpich3.default/src/apps/ESMF_PrintInfoC/ESMF_PrintInfoC.o -lesmf  -lmpifort -lgfortran -lnetcdf -lnetcdff
ld: library not found for -lmpifort
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[4]: *** [/Volumes/esmf/mpotts/gfortran_10.2.0_mpich3_g_develop/DEFAULTINSTALLDIR/bin/bing/Darwin.gfortran.64.mpich3.default/ESMF_PrintInfoC] Error 1
make[3]: *** [tree] Error 1
make[2]: *** [build_apps] Error 2
make[1]: *** [install_apps] Error 2
make: *** [install] Error 2
